From d42690b9c26dba8f0c522c82e2fb96c99fe1c3e6 Mon Sep 17 00:00:00 2001
From: cyan <cyjan@mrcyjanek.net>
Date: Sun, 3 Nov 2024 08:38:45 +0000
Subject: [PATCH 2/2] fix mingw build issues

---
 contrib/depends/packages/boost.mk | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/contrib/depends/packages/boost.mk b/contrib/depends/packages/boost.mk
index 2fae4c94..97c9b102 100644
--- a/contrib/depends/packages/boost.mk
+++ b/contrib/depends/packages/boost.mk
@@ -8,7 +8,7 @@ $(package)_patches=fix_aroptions.patch fix_arm_arch.patch fix_pthread_win.patch
 
 define $(package)_set_vars
 $(package)_config_opts_release=variant=release
-$(package)_config_opts_debug=variant=release
+$(package)_config_opts_debug=variant=debug --build-dir=stage/debug
 $(package)_config_opts=--layout=system --user-config=user-config.jam
 $(package)_config_opts+=threading=multi link=static -sNO_BZIP2=1 -sNO_ZLIB=1
 $(package)_config_opts_linux=threadapi=pthread runtime-link=static
@@ -44,9 +44,9 @@ define $(package)_config_cmds
 endef
 
 define $(package)_build_cmds
-  ./b2 -d2 -j2 -d1 --prefix=$($(package)_staging_prefix_dir) $($(package)_config_opts) stage
+  ./b2 -d2 -j2 --prefix=$($(package)_staging_prefix_dir) $($(package)_config_opts) $($(package)_config_opts_release) stage
 endef
 
 define $(package)_stage_cmds
-  ./b2 -d0 -j4 --prefix=$($(package)_staging_prefix_dir) $($(package)_config_opts) install
+  ./b2 -d0 -j4 --prefix=$($(package)_staging_prefix_dir) $($(package)_config_opts) $($(package)_config_opts_release) install
 endef
-- 
2.43.0

